apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-app-deployment
  labels:
    app: my-app
    type: production
spec:
  replicas: 3
  selector:
    matchLabels:
      app: my-app
      type: production
  template:
    metadata:
      labels:
        app: my-app
        type: production
    spec:
      containers:
        - name: my-app-container
          image: my-app-container:latest
          ports:
            - containerPort: 80


# Deployment
#  â””â”€ spec
#      â”œâ”€ replicas
#      â”œâ”€ selector
#      â””â”€ template
#          â”œâ”€ metadata
#          â”‚   â””â”€ labels
#          â””â”€ spec
#              â””â”€ containers

# The template defines the Pod specification that the Deployment uses to create and manage replicas. Any change in the template triggers a rollout.
# ðŸ”‘ Golden rules (write these down)

# âœ” template is always under spec
# âœ” containers is always under template.spec
# âœ” selector.matchLabels must equal template.metadata.labels
# âœ” Containers use containerPort, Services use port